参考 : [UIViewController Class Reference](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html) | [View Controller Programming Guide for iOS](http://developer.apple.com/library/ios/featuredarticles/ViewControllerPGforiPhoneOS/ViewControllerPGforiOS.pdf)

# 概要

ModalViewController は一時的にユーザの操作の中に割り込んで表示させるもの。公式ドキュメントには以下のようなケースで使うことを想定している。

- ユーザから直ちに情報を収集するため
- 何らかのコンテンツを一時的に表示するため
- 作業モードを一時的に変更するため
- デバイスの向きに応じて代替のインターフェイスを実装するため
- 特殊なアニメーショントランジションを使用する(またはトランジションなしの)新しいビュー 階層を表示するため

UIViewController は一つの ModalView を表示することが可能。そのときに、Modal を表示する ViewController と ModalViewController には親子関係が出来る。

![modal1](https://raw.github.com/mixi-inc/iOSTraining/master/Doc/Images/1.5/modal1.png)

Source:[View Controller Programming Guide for iOS](http://developer.apple.com/library/ios/featuredarticles/ViewControllerPGforiPhoneOS/ViewControllerPGforiOS.pdf)

具体的には親の ViewController の property:presentedViewController に表示されている ModalViewController の参照が代入され、ModalViewController の propterty:presentingViewController に親の ViewController の参照が代入される。

**注意**:modalViewController property は iOS6 から deplecated なので使用しないようにしましょう。

![modal_deprecated](https://raw.github.com/mixi-inc/iOSTraining/master/Doc/Images/1.5/modal_deprecated.png)

また、ModalViewController の上に ModalViewController をだすこともできる。

![modal2](https://raw.github.com/mixi-inc/iOSTraining/master/Doc/Images/1.5/modal2.png)

Source:[View Controller Programming Guide for iOS](http://developer.apple.com/library/ios/featuredarticles/ViewControllerPGforiPhoneOS/ViewControllerPGforiOS.pdf)

# 表示方法
```objective-c
MixiPostViewController *postViewController = [[MixiPostViewController alloc] init];
[self presentViewController:postViewController animated:YES completion:nil];
```

## 表示オプション
- modalTransitionStyle 画面遷移の方法
```objective-c
typedef enum {
   UIModalTransitionStyleCoverVertical = 0,
   UIModalTransitionStyleFlipHorizontal,
   UIModalTransitionStyleCrossDissolve,
   UIModalTransitionStylePartialCurl,
} UIModalTransitionStyle;
```

- modalPresentationStyle - iPad の場合に表示形式を変更できる
```objective-c
typedef enum {
   UIModalPresentationFullScreen = 0,
   UIModalPresentationPageSheet,
   UIModalPresentationFormSheet,
   UIModalPresentationCurrentContext,
} UIModalPresentationStyle;
```
# 消し方と delegate
## dismissViewController
```objective-c
[self dismissViewControllerAnimated:YES completion:nil];
```
このメソッドを呼べば、トップレベルの ModalViewController が dismiss されます。公式ドキュメントには原則として呼び出した ViewControlelr が消すべきと書いてあります。状況に応じて使い分けてください。

イメージ

# 注意事項
- modal の 表示、非表示アニメーションが同時に起きるとクラッシュする