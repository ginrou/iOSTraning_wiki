[Concepts in Objective-C Programming](https://developer.apple.com/library/ios/#documentation/General/Conceptual/CocoaEncyclopedia/Introduction/Introduction.html#//apple_ref/doc/uid/TP40010810)

[Objective-Cプログラミングの概念](https://developer.apple.com/jp/devcenter/ios/library/documentation/CocoaEncyclopedia.pdf)

iOS アプリケーション開発は MVC フレームワークを採用しています。従って、我々が作成するカスタムクラスも MVC にのっとって開発する必要があります。

- Model
 - View を構成する情報を保持
 - 必要に応じて、APIClient でリモートから情報を取得したり、DB にアクセスして情報を取得する

- View
 - Model のデータを表示
 - ユーザから操作を受ける

- Controller
 - Model と View を結びつけるもの
 - Model に更新メッセージを送り、Model からその完了通知を受ける
 - View に Model の情報を送り、View を通じてユーザからの操作を受ける

![MVC](https://raw.github.com/mixi-inc/iOSTraining/master/Doc/Images/9.1/MVC.png)

Source : [Objective-Cプログラミングの概念](https://developer.apple.com/jp/devcenter/ios/library/documentation/CocoaEncyclopedia.pdf)

iOS の MVC フレームワークは上のような形をとります。View と Model を完全に切り離している理由は、View の再利用性を高めるためです。

各レイヤーで効率的に開発するためのポイントを解説します。

## Model
複雑で大量の情報を扱う必要がある Model は、Controller がそのデータにアクセスしやすいように設計する必要があります。

## Entity クラス
情報を Entity クラスに定義し、そのインスタンスを管理させるとよいでしょう。


## View
ViewController クラスファイル作成時にその xib ファイルも生成しましょう。Interface Builder を使うことで、controller に view オブジェクト生成やレイアウトのコードを記述しなくてもよくなり可読性があがります。

また、3.* 系の研修で行った UIView またはそのサブクラスを作成し、独自の view component 作成すれば、あらゆる場面でその view の再利用が簡単に行えます。

## Controller
Controller にはあらゆる処理が集中しがちです。コードが肥大化してくるだいたいは *ViewController.m です。

### ビジネスロジック部分は極力別クラスに移す
controller で if ~~~ else ~~~ という多くのロジックが入る可能性があります。例えば以下のような仕様があったとします。

- ファーストビューで、曜日ごとに違う画像をオーバーレイしたい
- その画像をタップした際の画面遷移やアクションが画像によってことなる

ここで考えられることは、
- 今何曜日なのかを判定し、画像を生成して Controller が表示する
- 各曜日ごとのイベントハンドラを実装し、画像のイベントを controller が受け取る

これを全て controller で実装すると確実に肥大化していきます。このような時はビジネスロジックを別クラスに移しましょう。

- 曜日を判定するロジッククラス
- UIImageView インスタンスを生成する Factory クラス


### 画面遷移のロジックも別クラスへ移動可能
上の例でイベントハンドラをすべて controller で実装すると controller が肥大化します。このようなロジックも別クラスに移せます。



